<template>
    <div class="container">
        <div class="nav-bar">
            <img src="/logo.png" alt="Application logo">

            <ul class="navigation-icons">
                <li :class="{active: profileActive}">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.32 7.55L17.43 6.92L18.32 5.14C18.4102 4.95369 18.4404 4.74397 18.4064 4.53978C18.3723 4.33558 18.2758 4.14699 18.13 4L16 1.87C15.8522 1.72209 15.6618 1.62421 15.4555 1.59013C15.2493 1.55605 15.0375 1.58748 14.85 1.68L13.07 2.57L12.44 0.680003C12.3735 0.482996 12.2472 0.311629 12.0787 0.189751C11.9102 0.0678737 11.7079 0.00154767 11.5 3.33354e-06H8.5C8.29036 -0.000537828 8.08585 0.0648223 7.91537 0.186845C7.7449 0.308868 7.61709 0.481382 7.55 0.680003L6.92 2.57L5.14 1.68C4.95369 1.58978 4.74397 1.55961 4.53978 1.59364C4.33558 1.62767 4.14699 1.72423 4 1.87L1.87 4C1.72209 4.14777 1.62421 4.33818 1.59013 4.54446C1.55605 4.75074 1.58748 4.96251 1.68 5.15L2.57 6.93L0.680003 7.56C0.482996 7.62654 0.311629 7.75283 0.189751 7.92131C0.0678737 8.08979 0.00154767 8.29207 3.33354e-06 8.5V11.5C-0.000537828 11.7096 0.0648223 11.9142 0.186845 12.0846C0.308868 12.2551 0.481382 12.3829 0.680003 12.45L2.57 13.08L1.68 14.86C1.58978 15.0463 1.55961 15.256 1.59364 15.4602C1.62767 15.6644 1.72423 15.853 1.87 16L4 18.13C4.14777 18.2779 4.33818 18.3758 4.54446 18.4099C4.75074 18.444 4.96251 18.4125 5.15 18.32L6.93 17.43L7.56 19.32C7.62709 19.5186 7.7549 19.6911 7.92537 19.8132C8.09585 19.9352 8.30036 20.0005 8.51 20H11.51C11.7196 20.0005 11.9242 19.9352 12.0946 19.8132C12.2651 19.6911 12.3929 19.5186 12.46 19.32L13.09 17.43L14.87 18.32C15.0551 18.4079 15.2628 18.4369 15.4649 18.4029C15.667 18.3689 15.8538 18.2737 16 18.13L18.13 16C18.2779 15.8522 18.3758 15.6618 18.4099 15.4555C18.444 15.2493 18.4125 15.0375 18.32 14.85L17.43 13.07L19.32 12.44C19.517 12.3735 19.6884 12.2472 19.8103 12.0787C19.9321 11.9102 19.9985 11.7079 20 11.5V8.5C20.0005 8.29036 19.9352 8.08585 19.8132 7.91537C19.6911 7.7449 19.5186 7.61709 19.32 7.55ZM18 10.78L16.8 11.18C16.5241 11.2695 16.2709 11.418 16.0581 11.6151C15.8452 11.8122 15.6778 12.0533 15.5675 12.3216C15.4571 12.5899 15.4064 12.879 15.419 13.1688C15.4315 13.4586 15.5069 13.7422 15.64 14L16.21 15.14L15.11 16.24L14 15.64C13.7436 15.5122 13.4627 15.4411 13.1763 15.4313C12.89 15.4215 12.6049 15.4734 12.3403 15.5834C12.0758 15.6934 11.8379 15.8589 11.6429 16.0688C11.4479 16.2787 11.3003 16.5281 11.21 16.8L10.81 18H9.22L8.82 16.8C8.73049 16.5241 8.58203 16.2709 8.3849 16.0581C8.18778 15.8452 7.94671 15.6778 7.67842 15.5675C7.41014 15.4571 7.12105 15.4064 6.83123 15.419C6.5414 15.4315 6.25777 15.5069 6 15.64L4.86 16.21L3.76 15.11L4.36 14C4.4931 13.7422 4.56852 13.4586 4.58105 13.1688C4.59358 12.879 4.5429 12.5899 4.43254 12.3216C4.32218 12.0533 4.15478 11.8122 3.94195 11.6151C3.72912 11.418 3.47595 11.2695 3.2 11.18L2 10.78V9.22L3.2 8.82C3.47595 8.73049 3.72912 8.58203 3.94195 8.3849C4.15478 8.18778 4.32218 7.94671 4.43254 7.67842C4.5429 7.41014 4.59358 7.12105 4.58105 6.83123C4.56852 6.5414 4.4931 6.25777 4.36 6L3.79 4.89L4.89 3.79L6 4.36C6.25777 4.4931 6.5414 4.56852 6.83123 4.58105C7.12105 4.59358 7.41014 4.5429 7.67842 4.43254C7.94671 4.32218 8.18778 4.15478 8.3849 3.94195C8.58203 3.72912 8.73049 3.47595 8.82 3.2L9.22 2H10.78L11.18 3.2C11.2695 3.47595 11.418 3.72912 11.6151 3.94195C11.8122 4.15478 12.0533 4.32218 12.3216 4.43254C12.5899 4.5429 12.879 4.59358 13.1688 4.58105C13.4586 4.56852 13.7422 4.4931 14 4.36L15.14 3.79L16.24 4.89L15.64 6C15.5122 6.25645 15.4411 6.53735 15.4313 6.82369C15.4215 7.11003 15.4734 7.39513 15.5834 7.65969C15.6934 7.92424 15.8589 8.16207 16.0688 8.35708C16.2787 8.5521 16.5281 8.69973 16.8 8.79L18 9.19V10.78ZM10 6C9.20888 6 8.43552 6.2346 7.77772 6.67413C7.11993 7.11365 6.60724 7.73836 6.30448 8.46927C6.00173 9.20017 5.92252 10.0044 6.07686 10.7804C6.2312 11.5563 6.61217 12.269 7.17158 12.8284C7.73099 13.3878 8.44372 13.7688 9.21964 13.9231C9.99557 14.0775 10.7998 13.9983 11.5307 13.6955C12.2616 13.3928 12.8864 12.8801 13.3259 12.2223C13.7654 11.5645 14 10.7911 14 10C14 8.93914 13.5786 7.92172 12.8284 7.17158C12.0783 6.42143 11.0609 6 10 6ZM10 12C9.60444 12 9.21776 11.8827 8.88886 11.6629C8.55996 11.4432 8.30362 11.1308 8.15224 10.7654C8.00087 10.3999 7.96126 9.99778 8.03843 9.60982C8.1156 9.22186 8.30608 8.86549 8.58579 8.58579C8.86549 8.30608 9.22186 8.1156 9.60982 8.03843C9.99778 7.96126 10.3999 8.00087 10.7654 8.15224C11.1308 8.30362 11.4432 8.55996 11.6629 8.88886C11.8827 9.21776 12 9.60444 12 10C12 10.5304 11.7893 11.0391 11.4142 11.4142C11.0391 11.7893 10.5304 12 10 12Z" fill="#5F6388"/>
                    </svg>
                </li>

                <li :class="{active: messageActive}">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.183 7.00798L4.19105 1.22798C3.66163 1.00877 3.08052 0.945927 2.51651 1.0469C1.9525 1.14786 1.42922 1.40841 1.00861 1.7977C0.587999 2.18699 0.287673 2.68871 0.143187 3.24348C-0.00129992 3.79824 0.0161035 4.38281 0.193336 4.92798L1.73246 9.77798L0.153359 14.628C-0.028665 15.1753 -0.0491122 15.7636 0.0944673 16.3223C0.238047 16.881 0.539564 17.3864 0.962896 17.778C1.50722 18.283 2.21946 18.5681 2.96175 18.578C3.35626 18.5777 3.74683 18.4996 4.11109 18.348L18.1531 12.568C18.6999 12.3404 19.1672 11.9559 19.4959 11.4629C19.8246 10.9699 20 10.3906 20 9.79798C20 9.20537 19.8246 8.62603 19.4959 8.13305C19.1672 7.64007 18.6999 7.25555 18.1531 7.02798L18.183 7.00798ZM3.38151 16.478C3.20521 16.5507 3.01179 16.5715 2.82407 16.5379C2.63635 16.5042 2.46218 16.4175 2.32212 16.288C2.19018 16.1618 2.09528 16.0019 2.04771 15.8257C2.00014 15.6494 2.00172 15.4634 2.05227 15.288L3.51144 10.778L17.2336 10.778L3.38151 16.478ZM3.51144 8.77798L2.02229 4.30798C1.97174 4.13253 1.97016 3.94658 2.01773 3.7703C2.0653 3.59402 2.1602 3.43413 2.29213 3.30798C2.38619 3.20926 2.49943 3.13083 2.6249 3.07752C2.75037 3.02421 2.88541 2.99714 3.02172 2.99798C3.15569 2.99824 3.28824 3.02545 3.41149 3.07798L17.2336 8.77798H3.51144Z" fill="#5F6388"/>
                    </svg>
                </li>

                <li :class="{active: tasksActive}">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 11H11V10C11 9.73481 10.8946 9.48045 10.7071 9.29292C10.5196 9.10538 10.2652 9.00002 10 9.00002C9.73478 9.00002 9.48043 9.10538 9.29289 9.29292C9.10536 9.48045 9 9.73481 9 10V11H8C7.73478 11 7.48043 11.1054 7.29289 11.2929C7.10536 11.4805 7 11.7348 7 12C7 12.2652 7.10536 12.5196 7.29289 12.7071C7.48043 12.8947 7.73478 13 8 13H9V14C9 14.2652 9.10536 14.5196 9.29289 14.7071C9.48043 14.8947 9.73478 15 10 15C10.2652 15 10.5196 14.8947 10.7071 14.7071C10.8946 14.5196 11 14.2652 11 14V13H12C12.2652 13 12.5196 12.8947 12.7071 12.7071C12.8946 12.5196 13 12.2652 13 12C13 11.7348 12.8946 11.4805 12.7071 11.2929C12.5196 11.1054 12.2652 11 12 11ZM17 4.00002H10.72L10.4 3.00002C10.1926 2.41325 9.80775 1.90553 9.2989 1.54718C8.79005 1.18884 8.18236 0.997623 7.56 1.00002H3C2.20435 1.00002 1.44129 1.31609 0.87868 1.8787C0.316071 2.44131 0 3.20437 0 4.00002V17C0 17.7957 0.316071 18.5587 0.87868 19.1213C1.44129 19.684 2.20435 20 3 20H17C17.7956 20 18.5587 19.684 19.1213 19.1213C19.6839 18.5587 20 17.7957 20 17V7.00002C20 6.20437 19.6839 5.44131 19.1213 4.8787C18.5587 4.31609 17.7956 4.00002 17 4.00002ZM18 17C18 17.2652 17.8946 17.5196 17.7071 17.7071C17.5196 17.8947 17.2652 18 17 18H3C2.73478 18 2.48043 17.8947 2.29289 17.7071C2.10536 17.5196 2 17.2652 2 17V4.00002C2 3.73481 2.10536 3.48045 2.29289 3.29292C2.48043 3.10538 2.73478 3.00002 3 3.00002H7.56C7.76964 2.99948 7.97416 3.06484 8.14463 3.18686C8.3151 3.30889 8.44291 3.4814 8.51 3.68002L9.05 5.32002C9.11709 5.51864 9.2449 5.69116 9.41537 5.81318C9.58584 5.9352 9.79036 6.00056 10 6.00002H17C17.2652 6.00002 17.5196 6.10538 17.7071 6.29292C17.8946 6.48045 18 6.73481 18 7.00002V17Z" fill="#5F6388"/>
                    </svg>
                </li>
            </ul>
        </div>

        <div class="content">
            <div class="search-bar">
                <div class="search-container">
                    <div class="search">
                        <input type="text" placeholder="Search anything..." class="searchField">
                        
                        <img src="/Lupe.png" alt="Значёк поиска" class="searchIcon">
                    </div>
                </div>

                <div @click="escape" class="exit">
                    <div :class="{active: rotation}"></div>
                    
                    <div :class="{'active-wand' : rotateWand}" class="exit-wand"></div>
                </div>

                <div :class="{'exit-button-active': rotation}" class="exit-container">
                    <div class="exit-text" @click="logout">Log Out</div>
                </div>
            </div>

            <slot/>
        </div>
    </div>
</template>

<style src="~/assets/navigation.scss"></style>

<script>
    export default {
        data: () => {
            return {
                profileActive: false,
                messageActive: false,
                tasksActive: false,
                rotation: false,
                rotateWand: false,
            }
        },
        methods: {
            escape() {
                this.rotation  =! this.rotation
                this.rotateWand  =! this.rotateWand
            },
            logout() {
                localStorage.clear();
                window.location.href = '/'
            }
        },
        mounted() {
            if (window.location.pathname == '/profile'){
                this.profileActive = true
            }
            else if (window.location.pathname == '/tasks'){
                this.tasksActive = true
            }
            else if (window.location.pathname == '/message'){
                this.messageActive = true
            };
        },
    }
</script>
